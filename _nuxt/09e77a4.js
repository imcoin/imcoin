(window.webpackJsonp=window.webpackJsonp||[]).push([[27,19,23,26],{723:function(t,e,r){var content=r(734);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(129).default)("20177719",content,!0,{sourceMap:!1})},725:function(t,e,r){"use strict";r.r(e);r(452),r(324),r(86),r(234),r(109),r(132);var n=r(721),o=r(732),l="#F9293E",c="#00aa3b",d={mixins:[n.default],data:function(){return{klineArr:[],marketState:{},isLoading:!0}},watch:{marketStr:function(t){t&&this.queryOrder()}},mounted:function(){var t=this;this.$socket.on("state.update",(function(e){e.params&&e.params[0]&&e.params[0][t.marketStr]&&(t.marketState=e.params[0][t.marketStr]||{})}))},methods:{queryOrder:function(){var t=this,e=new Date;this.isLoading=!0;var r=parseInt(e.getTime()/1e3)-(60*e.getHours()*60+60*e.getMinutes()+e.getSeconds()),n=parseInt(e.getTime()/1e3);this.$socket.commit({method:"kline.query",params:[this.marketStr,r,n,60]},(function(data){data.error||(t.klineArr=data.result||{}),t.isLoading=!1,t.initChart()}))},beginInitChart:function(){var t=this;clearInterval(this.initInter),this.initInter=setInterval((function(){!t.isLoading&&t.marketState.open&&t.curMarketConfig&&(clearInterval(t.initInter),t.initChart())}),1e3)},generateData:function(){var t=this,e=[],r=[],n=[],o=[],l=0,c=0;this.klineArr.forEach((function(d){e.push(parseFloat(d[2])),n.push(parseFloat(d[5])),o.push(d[0].toTime("HH:mm")),c+=parseFloat(d[5]),l+=parseFloat(d[6]);var m=parseFloat((l/c).toFixed((t.curMarketConfig||{}).pricing_decimal||8));r.push(m)}));for(var d,m,f=this.klineArr.length>0?(d=o[o.length-1],60*(m=d.split(":"))[0]+parseInt(m[1])):0,h=function(t){return t<10?"0"+t:t},v=function(t){var e=parseInt(t/60),r=t-60*e;return h(e)+":"+h(r)},i=f+1;i<1440;i++)o.push(v(i));return{priceArr:e,avgPrice:r,vol:n,times:o}},initChart:function(){var t=this.generateData(),e=parseFloat(this.marketState.open);this.myChart=this.myChart||this.$Echarts.init(this.$refs.chart);var r=function(t,e){return((t-e)/e*100).toFixed(3)},n=this.$t("当前价"),o=this.$t("均价"),d=this.$t("涨幅"),m=this.$t("成交量"),option={tooltip:{trigger:"axis",axisPointer:{type:"cross"},formatter:function(l){var c,i=l[0].dataIndex;c=t.priceArr[i]>e?'style="color:#ff4242"':'style="color:#26bf66"';var html='<div class="commColor" style="width:100px;"><div>'+n+" <span  "+c+" >"+t.priceArr[i]+"</span></div>";return html+="<div>"+o+" <span  "+c+" >"+t.avgPrice[i]+"</span></div>",html+="<div>"+d+" <span  "+c+" >"+r(t.priceArr[i],e)+"%</span></div>",html+="<div>"+m+" <span  "+c+" >"+t.vol[i].toFixed(2)+"</span></div></div>"}},legend:{icon:"rect",type:"scroll",itemWidth:14,itemHeight:2,left:0,top:"-1%",textStyle:{fontSize:12,color:"#0e99e2"},show:!1},axisPointer:{show:!0},color:["#39afe6","#da6ee8"],grid:[{id:"gd1",left:"1%",right:"1%",height:"67.5%",top:"5%"},{id:"gd2",left:"1%",right:"1%",height:"67.5%",top:"5%"},{id:"gd3",left:"1%",right:"1%",top:"75%",height:"19%"}],xAxis:[{gridIndex:0,data:t.times,axisLabel:{show:!1},splitLine:{show:!1},axisTick:{show:!1}},{show:!1,gridIndex:1,data:t.times,axisLabel:{show:!1},splitLine:{show:!1}},{splitNumber:2,type:"category",gridIndex:2,data:t.times,axisLabel:{color:"#9b9da9",fontSize:10}}],yAxis:[{gridIndex:0,scale:!0,splitNumber:3,axisLabel:{inside:!0,fontWeight:"bold",color:function(t){return t===e?"#aaa":t>e?l:c}},z:4,splitLine:{show:!1,lineStyle:{color:"#181a23"}}},{scale:!0,gridIndex:1,splitNumber:3,position:"right",z:4,axisLabel:{color:function(t){return t===e?"#aaa":t>e?l:c},inside:!0,fontWeight:"bold",formatter:function(t){var n=r(t,e);return Number(n).toFixed(2)+" %"}},splitLine:{show:!1,lineStyle:{color:"#181a23"}},axisPointer:{show:!0,label:{formatter:function(t){return r(t.value,e)+"%"}}}},{gridIndex:2,z:4,splitNumber:3,axisLine:{onZero:!1},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{color:"#c7c7c7",inside:!0,fontSize:8}}],dataZoom:[],backgroundColor:"#1f212d",blendMode:"source-over",series:[{hoverAnimation:!1,name:this.$t("当前价"),type:"line",data:t.priceArr,smooth:!0,symbol:"circle",lineStyle:{normal:{opacity:.8,color:"#39afe6",width:1}},areaStyle:{normal:{color:new this.$Echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(0, 136, 212, 0.7)"},{offset:.8,color:"rgba(0, 136, 212, 0.02)"}],!1),shadowColor:"rgba(0, 0, 0, 0.1)",shadowBlur:10}}},{hoverAnimation:!1,name:this.$t("均价"),type:"line",data:t.avgPrice,smooth:!0,symbol:"circle",lineStyle:{normal:{opacity:.8,color:"#da6ee8",width:1}}},{hoverAnimation:!1,type:"line",data:t.priceArr,smooth:!0,symbol:"none",gridIndex:1,xAxisIndex:1,yAxisIndex:1,lineStyle:{normal:{width:0}}},{hoverAnimation:!1,name:"Volumn",type:"bar",gridIndex:2,xAxisIndex:2,yAxisIndex:2,data:t.vol,barWidth:"60%",itemStyle:{normal:{color:function(e){return t.priceArr[e.dataIndex]>t.priceArr[e.dataIndex-1]?l:c}}}}]};this.myChart.setOption(option)}}};d.methods?Object.assign(d.methods,{$t:function(t){if(!this.$lang&&!o.zh_Hans_CN)return t;var e=o[this.$lang]||o.zh_Hans_CN||{};return void 0===e[t]?t:e[t]}}):d.methods={$t:function(t){if(!this.$lang&&!o.zh_Hans_CN)return t;var e=o[this.$lang]||o.zh_Hans_CN||{};return void 0===e[t]?t:e[t]}};var m=d,f=(r(733),r(127)),component=Object(f.a)(m,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],staticClass:"c-timeshare"},[r("div",{ref:"chart",staticClass:"chart-wrapper relative",staticStyle:{height:"300px",width:"274px"}})])}),[],!1,null,null,null);e.default=component.exports},728:function(t,e,r){var content=r(750);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(129).default)("39ee6399",content,!0,{sourceMap:!1})},732:function(t){t.exports=JSON.parse('{"en_US":{"均价":"均价","当前价":"当前价","成交量":"成交量","涨幅":"涨幅"},"zh_Hans_CN":{"均价":"均价","当前价":"当前价","成交量":"成交量","涨幅":"涨幅"},"zh_Hant_HK":{"<div>均价<_4f31@DEPRECATED@":"<div>均價 <span","<div>涨幅<_105d@DEPRECATED@":"<div>漲幅 <span","<divclas_8c6b@DEPRECATED@":"<div class=\\"commColor\\" style=\\"width:100px;\\"><div>當前價 <span","均价":"均價","当前价":"當前價","成交量":"成交量","涨幅":"漲幅"}}')},733:function(t,e,r){"use strict";r(723)},734:function(t,e,r){var n=r(128)(!1);n.push([t.i,"",""]),t.exports=n},735:function(t,e,r){var content=r(766);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(129).default)("23e07e49",content,!0,{sourceMap:!1})},736:function(t,e,r){var content=r(769);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(129).default)("7941f97d",content,!0,{sourceMap:!1})},739:function(t,e,r){(function(e){var r="Expected a function",n=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt,m="object"==typeof e&&e&&e.Object===Object&&e,f="object"==typeof self&&self&&self.Object===Object&&self,h=m||f||Function("return this")(),v=Object.prototype.toString,_=Math.max,k=Math.min,x=function(){return h.Date.now()};function y(t,e,n){var o,l,c,d,m,f,h=0,v=!1,y=!1,O=!0;if("function"!=typeof t)throw new TypeError(r);function S(time){var e=o,r=l;return o=l=void 0,h=time,d=t.apply(r,e)}function C(time){return h=time,m=setTimeout(H,e),v?S(time):d}function j(time){var t=time-f;return void 0===f||t>=e||t<0||y&&time-h>=c}function H(){var time=x();if(j(time))return P(time);m=setTimeout(H,function(time){var t=e-(time-f);return y?k(t,c-(time-h)):t}(time))}function P(time){return m=void 0,O&&o?S(time):(o=l=void 0,d)}function M(){var time=x(),t=j(time);if(o=arguments,l=this,f=time,t){if(void 0===m)return C(f);if(y)return m=setTimeout(H,e),S(f)}return void 0===m&&(m=setTimeout(H,e)),d}return e=$(e)||0,w(n)&&(v=!!n.leading,c=(y="maxWait"in n)?_($(n.maxWait)||0,e):c,O="trailing"in n?!!n.trailing:O),M.cancel=function(){void 0!==m&&clearTimeout(m),h=0,o=f=l=m=void 0},M.flush=function(){return void 0===m?d:P(x())},M}function w(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function $(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==v.call(t)}(t))return NaN;if(w(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=w(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(n,"");var r=l.test(t);return r||c.test(t)?d(t.slice(2),r?2:8):o.test(t)?NaN:+t}t.exports=function(t,e,n){var o=!0,l=!0;if("function"!=typeof t)throw new TypeError(r);return w(n)&&(o="leading"in n?!!n.leading:o,l="trailing"in n?!!n.trailing:l),y(t,e,{leading:o,maxWait:e,trailing:l})}}).call(this,r(33))},748:function(t){t.exports=JSON.parse('{"en_US":{"价格":"Price","数量":"Quantity"},"zh_Hans_CN":{"价格":"价格","数量":"数量"},"zh_Hant_HK":{"价格":"價格","数量":"數量"}}')},749:function(t,e,r){"use strict";r(728)},750:function(t,e,r){var n=r(128)(!1);n.push([t.i,".c-market .depth-item{overflow-y:auto;max-height:calc(50% - 15px)}.c-market .depth-item .price-item{padding:3px 0}",""]),t.exports=n},760:function(t){t.exports=JSON.parse('{"en_US":{"24H成交额":"24H成交额","24H最低":"24H Lowest","24H最高":"24H Highest","24H涨跌幅":"24H Change","万":"万","亿":"亿","振幅":"振幅"},"zh_Hans_CN":{"24H成交额":"24H成交额","24H最低":"24H最低","24H最高":"24H最高","24H涨跌幅":"24H涨跌幅","万":"万","亿":"亿","振幅":"振幅"},"zh_Hant_HK":{"24H成交额":"24H成交額","24H最低":"24H最低","24H最高":"24H最高","24H涨跌幅":"24H漲跌幅","万":"萬","亿":"億","振幅":"振幅"}}')},761:function(t){t.exports=JSON.parse('{"en_US":{"买":"Buy","买入":"Buy","价格":"Price","卖":"Sell","卖出":"Sell","委托价":"Price","委托数量":"Amount","委托时间":"Order Time","已成交":"Executed","市价":"Market","成交均价":"Avg. Price","撤销":"Cancel","操作":"Operation","方向":"Side","类型":"Type","限价":"Limit Order ","，":"，"},"zh_Hans_CN":{"买":"买","买入":"买入","价格":"价格","卖":"卖","卖出":"卖出","委托价":"委托价","委托数量":"委托数量","委托时间":"委托时间","已成交":"已成交","市价":"市价","成交均价":"成交均价","撤销":"撤销","操作":"操作","方向":"方向","类型":"类型","限价":"限价","，":"，"},"zh_Hant_HK":{"买":"買","买入":"買入","价格":"價格","卖":"賣","卖出":"賣出","委托价":"委托價","委托数量":"委托數量","委托时间":"委托時間","已成交":"已成交","市价":"市價","成交均价":"成交均價","撤销":"撤銷","操作":"操作","方向":"方向","类型":"類型","限价":"限價","，":"，"}}')},762:function(t){t.exports=JSON.parse('{"en_US":{"买":"Buy","卖":"Sell","委托价":"Price","委托数量":"Amount","委托时间":"Order Time","市价":"Market","市场":"Market","成交数量":"Executed Amount","成交金额":"Value","手续费":"Tx Fee","方向":"Side","类型":"Type","限价":"Limit Order "},"zh_Hans_CN":{"买":"买","卖":"卖","委托价":"委托价","委托数量":"委托数量","委托时间":"委托时间","市价":"市价","市场":"市场","成交数量":"成交数量","成交金额":"成交金额","手续费":"手续费","方向":"方向","类型":"类型","限价":"限价"},"zh_Hant_HK":{"买":"買","卖":"賣","委托价":"委托價","委托数量":"委托數量","委托时间":"委托時間","市价":"市價","市场":"市場","成交数量":"成交數量","成交金额":"成交金額","手续费":"手續費","方向":"方向","类型":"類型","限价":"限價"}}')},763:function(t){t.exports=JSON.parse('{"en_US":{"买":"Buy","卖":"Sell","成交价":"Price","成交数量":"Executed Amount","成交时间":"Time","成交金额":"Value","手续费":"Tx Fee","方向":"Side","类型":"Type"},"zh_Hans_CN":{"买":"买","卖":"卖","成交价":"成交价","成交数量":"成交数量","成交时间":"成交时间","成交金额":"成交金额","手续费":"手续费","方向":"方向","类型":"类型"},"zh_Hant_HK":{"买":"買","卖":"賣","成交价":"成交價","成交数量":"成交數量","成交时间":"成交時間","成交金额":"成交金額","手续费":"手續費","方向":"方向","类型":"類型"}}')},764:function(t){t.exports=JSON.parse('{"en_US":{"价格":"Price","数量":"Quantity","时间":"Time"},"zh_Hans_CN":{"价格":"价格","数量":"数量","时间":"时间"},"zh_Hant_HK":{"价格":"價格","数量":"數量","时间":"時間"}}')},765:function(t,e,r){"use strict";r(735)},766:function(t,e,r){var n=r(128)(!1);n.push([t.i,".c-marketdeal{font-size:12px;line-height:14px}.c-marketdeal .el-table:before{display:none}.c-marketdeal .el-table td>.cell,.c-marketdeal .el-table th>.cell{padding-right:0;padding-left:0}.c-marketdeal .el-table td:last-child .cell,.c-marketdeal .el-table th:last-child .cell{padding-right:10px}.c-marketdeal .el-table td:first-child .cell,.c-marketdeal .el-table th:first-child .cell{padding-left:10px}.c-marketdeal .el-table .el-table__header th{font-weight:400;padding-top:5px;padding-bottom:5px}.c-marketdeal .el-table .el-table__header th.is-leaf{border-bottom-width:0}.c-marketdeal .el-table td{border-color:var(--color-blue-50);font-size:12px;line-height:14px;padding-top:0;padding-bottom:0}",""]),t.exports=n},767:function(t){t.exports=JSON.parse('{"en_US":{"市场不存在":"市场不存在","市场列表":"市场列表","横向":"横向","添加":"添加","添加成功":"添加成功","纵向":"纵向","编辑市场":"编辑市场","输入交易对":"输入交易对"},"zh_Hans_CN":{"市场不存在":"市场不存在","市场列表":"市场列表","横向":"横向","添加":"添加","添加成功":"添加成功","纵向":"纵向","编辑市场":"编辑市场","输入交易对":"输入交易对"},"zh_Hant_HK":{"市场不存在":"市場不存在","市场列表":"市場列表","横向":"橫向","添加":"添加","添加成功":"添加成功","纵向":"縱向","编辑市场":"編輯市場","输入交易对":"輸入交易對"}}')},768:function(t,e,r){"use strict";r(736)},769:function(t,e,r){var n=r(128)(!1);n.push([t.i,".c-top-markets .top-wrapper .top-item{border-radius:10px;min-width:120px;margin-left:10px}.c-top-markets .top-wrapper .top-item .top-title{transform:scale(.97);margin-left:-1px}.c-top-markets .top-wrapper .top-item .top-title.scal85{margin-left:-8px;transform:scale(.83)}.c-top-markets .top-wrapper .top-item:first-child{margin-left:0}.c-top-markets .top-wrapper .top-item.btn-add{line-height:52px!important;font-size:20px;line-height:26px;text-align:center}.c-top-markets .ver{overflow:hidden!important}.c-top-markets .ver .top-wrapper{flex-wrap:wrap!important;justify-content:space-between!important;margin-left:-5px!important;margin-right:-5px!important;overflow:hidden!important}.c-top-markets .ver .top-wrapper .top-item{width:120px;margin:5px}.c-top-markets .el-input-group__append{background-color:var(--color-blue-500);border-color:var(--color-blue-500);color:#fff}.c-top-markets .market-list .market-item{border-bottom:1px solid var(--color-blue-50)}.c-top-markets .market-list .market-item:last-child{border-bottom:0}.c-top-markets .market-list .market-item:first-child .el-icon-top,.c-top-markets .market-list .market-item:last-child .el-icon-bottom{display:none}.c-top-markets .el-radio__label{font-size:12px;line-height:14px}.c-top-markets .el-radio__inner{width:12px;height:12px}",""]),t.exports=n},770:function(t){t.exports=JSON.parse('{"en_US":{"修改成功":"修改成功","参数内容":"参数内容","提交":"提交","获取":"获取"},"zh_Hans_CN":{"修改成功":"修改成功","参数内容":"参数内容","提交":"提交","获取":"获取"},"zh_Hant_HK":{"修改成功":"修改成功","参数内容":"參數內容","提交":"提交","获取":"獲取"}}')},772:function(t,e,r){"use strict";r.r(e);r(132);var n=r(63),o=r(154),l=r(739),c=r.n(l),d=r(721),m=r(748);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function h(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var v={mixins:[d.default],data:function(){return{depth:{},marketState:{}}},computed:h(h(h({},Object(o.c)(["legal"])),Object(o.b)({legalSymbol:"legalSymbol"})),{},{priceChangePercent:function(){return this.marketState&&this.marketState.open?this.marketState.close.minus(this.marketState.open).div(this.marketState.open).percent(!0):"--"},changeColor:function(){return this.marketState&&this.marketState.open?this.marketState.close.cmp(this.marketState.open)>0?"text-green-500":"text-red-500":""},curMoney:function(){return this.depth.last?this.$toLegal(this.depth.last,this.marketInfo.currency):"--"}}),mounted:function(){var t=this;this.toBottomTro=c()((function(){t.$refs.asks&&(t.$refs.asks.scrollTop=1e4)}),2e4),this.$socket.on("depth.update",(function(e){e.params&&e.params[1]&&e.params[2]===t.marketStr&&(t.depth=e.params[1]||{},t.depth.asks&&t.depth.asks.length>0&&(t.marketScrollMark&&t.marketScrollMark===t.marketStr||(t.marketScrollMark=t.marketStr,setTimeout((function(){t.$refs.asks&&(t.$refs.asks.scrollTop=1e4)}),1e3)),t.toBottomTro()))})),this.$socket.on("state.update",(function(e){e.params&&e.params[0]&&e.params[0][t.marketStr]&&(t.marketState=e.params[0][t.marketStr]||{})}))},methods:{setPrice:function(t){this.$emit("setPrice",t)}}};v.methods?Object.assign(v.methods,{$t:function(t){if(!this.$lang&&!m.zh_Hans_CN)return t;var e=m[this.$lang]||m.zh_Hans_CN||{};return void 0===e[t]?t:e[t]}}):v.methods={$t:function(t){if(!this.$lang&&!m.zh_Hans_CN)return t;var e=m[this.$lang]||m.zh_Hans_CN||{};return void 0===e[t]?t:e[t]}};var _=v,k=(r(749),r(127)),component=Object(k.a)(_,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"c-market text-12 bg-white rounded-md p-15 xs:p-10 flex flex-col overflow-hidden"},[r("div",{staticClass:"flex pb-10"},[r("span",{staticClass:"flex-1"},[t._v(t._s(t.$t("价格")))]),t._v(" "),r("span",[t._v(t._s(t.$t("数量")))])]),t._v(" "),r("div",{staticClass:"flex-1 flex flex-col justify-between overflow-hidden"},[r("div",{ref:"asks",staticClass:"flex-1 depth-item"},[t.depth.asks?t._l(t.depth.asks,(function(e,i){return r("div",{key:"s"+i,staticClass:"flex price-item"},[r("div",{staticClass:"flex-1 text-red-500 cursor-pointer",on:{click:function(e){return t.setPrice(t.depth.asks[t.depth.asks.length-i-1][0])}}},[t._v("\n            "+t._s(t.depth.asks[t.depth.asks.length-i-1][0])+"\n          ")]),t._v(" "),r("div",[t._v(t._s(t.depth.asks[t.depth.asks.length-i-1][1]))])])})):t._e()],2),t._v(" "),r("div",{staticClass:"py-10 flex items-center",class:t.changeColor},[r("span",{staticClass:"text-14 cursor-pointer flex-1",on:{click:function(e){return t.setPrice(t.depth.last)}}},[t._v(t._s(t.depth.last||"--"))]),t._v(" "),r("span",[t._v(t._s(t.legalSymbol)+t._s(t.curMoney))])]),t._v(" "),r("div",{staticClass:"flex-1 depth-item"},[t.depth.bids?t._l(t.depth.bids,(function(e,i){return r("div",{key:"b"+i,staticClass:"flex price-item"},[r("div",{staticClass:"flex-1 text-green-500 cursor-pointer",on:{click:function(r){return t.setPrice(e[0])}}},[t._v("\n            "+t._s(e[0])+"\n          ")]),t._v(" "),r("div",[t._v(t._s(e[1]))])])})):t._e()],2)])])}),[],!1,null,null,null);e.default=component.exports},773:function(t,e,r){"use strict";r.r(e);r(110),r(324),r(132);var n=r(63),o=r(154),l=r(721),c=r(724),d=r(725),m=r(760);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function h(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var v={components:{MarketSelector:c.default,TimeShare:d.default},mixins:[l.default],data:function(){return{marketState:{},marketPopoverVisible:!1,timeVisible:!1}},computed:h(h({},Object(o.c)(["markets"])),{},{priceChangePercent:function(){return this.marketState&&this.marketState.open?this.marketState.close.minus(this.marketState.open).div(this.marketState.open).percent(!0):"--"},amplitudePercent:function(){return this.marketState&&this.marketState.open?this.marketState.high.minus(this.marketState.low).div(this.marketState.open).percent():"--"},changeColor:function(){return this.marketState&&this.marketState.open?this.marketState.close.cmp(this.marketState.open)>0?"text-green-500":"text-red-500":""}}),watch:{timeVisible:function(t){var e=this;t&&setTimeout((function(){e.$refs.timeShare.beginInitChart()}),1e3)}},mounted:function(){var t=this;this.$socket.on("state.update",(function(e){e.params&&e.params[0]&&e.params[0][t.marketStr]&&(t.marketState=e.params[0][t.marketStr]||{})}))},methods:{getVal:function(t,e){return this.marketState&&this.marketState[t]?e?this.simpleNum(this.marketState[t]):this.marketState[t]:"--"},simpleNum:function(t){var e=parseFloat(t);return isNaN(e)?"0":e>1e8?(e/1e8).toFixed(2).trimZero()+this.$t("亿"):e>1e4?(e/1e4).toFixed(2).trimZero()+this.$t("万"):e.toFixed(2).trimZero()},selectMarket:function(t){this.$store.commit("SET_CURRENT_MARKET","".concat(t.dest,"-").concat(t.currency)),this.$router.push("/?market=".concat(t.dest,"-").concat(t.currency))}}};v.methods?Object.assign(v.methods,{$t:function(t){if(!this.$lang&&!m.zh_Hans_CN)return t;var e=m[this.$lang]||m.zh_Hans_CN||{};return void 0===e[t]?t:e[t]}}):v.methods={$t:function(t){if(!this.$lang&&!m.zh_Hans_CN)return t;var e=m[this.$lang]||m.zh_Hans_CN||{};return void 0===e[t]?t:e[t]}};var _=v,k=r(127),component=Object(k.a)(_,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"c-marketheader bg-white px-20 py-10 flex items-center xs:block xs:px-10"},[r("div",{staticClass:"flex items-center flex-1"},[r("MarketSelector",{attrs:{market:t.marketInfo},on:{selectMarket:t.selectMarket}}),t._v(" "),r("div",[r("el-popover",{attrs:{placement:"top-start",width:"300",trigger:"click"},model:{value:t.timeVisible,callback:function(e){t.timeVisible=e},expression:"timeVisible"}},[r("TimeShare",{ref:"timeShare",attrs:{market:t.marketInfo}}),t._v(" "),r("i",{staticClass:"iconfont icon-hangqing text-blue-500 ml-10 cursor-pointer outline-none",attrs:{slot:"reference"},slot:"reference"})],1)],1),t._v(" "),r("p",{staticClass:"text-16 mx-20 text-center flex-1 xs:text-right xs:mr-0",class:t.changeColor},[t._v("\n      "+t._s(t.getVal("last"))+"\n    ")])],1),t._v(" "),r("div",{staticClass:"flex items-center justify-between flex-1 xs:mt-20"},[r("div",{staticClass:"text-center"},[r("p",{staticClass:"text-12"},[t._v(t._s(t.$t("24H涨跌幅")))]),t._v(" "),r("p",{staticClass:"text-12",class:t.changeColor},[t._v(t._s(t.priceChangePercent))])]),t._v(" "),r("div",{staticClass:"text-center"},[r("p",{staticClass:"text-12"},[t._v(t._s(t.$t("24H最高")))]),t._v(" "),r("p",{staticClass:"text-12"},[t._v(t._s(t.getVal("high")))])]),t._v(" "),r("div",{staticClass:"text-center"},[r("p",{staticClass:"text-12"},[t._v(t._s(t.$t("24H最低")))]),t._v(" "),r("p",{staticClass:"text-12"},[t._v(t._s(t.getVal("low")))])]),t._v(" "),r("div",{staticClass:"text-center"},[r("p",{staticClass:"text-12"},[t._v(t._s(t.$t("24H成交额")))]),t._v(" "),r("p",{staticClass:"text-12"},[t._v(t._s(t.getVal("deal",!0)))])]),t._v(" "),r("div",{staticClass:"text-center"},[r("p",{staticClass:"text-12"},[t._v(t._s(t.$t("振幅")))]),t._v(" "),r("p",{staticClass:"text-12"},[t._v(t._s(t.amplitudePercent))])])])])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{MarketSelector:r(724).default,TimeShare:r(725).default})},774:function(t,e,r){"use strict";r.r(e);r(324),r(130);var n=r(38),o=r(63),l=r(154),c=r(721),d=r(761);function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h={mixins:[c.default],data:function(){return{isLoading:!1,side:0,ofsset:0,limit:100,dataResult:{}}},computed:f({},Object(l.c)(["account"])),mounted:function(){var t=this;this.$socket.on("order.update",(function(e){if(e.params&&e.params[0]&&e.params[1]&&e.params[1].market===t.marketStr)switch(e.params[0]){case 1:var r=t.dataResult.records||[];r.unshift(e.params[1]),t.dataResult=f(f({},t.dataResult),{},{records:r,limit:t.dataResult.limit+1});break;case 2:for(var n=t.dataResult.records||[],i=0;i<n.length;i++)n[i].id===e.params[1].id&&(n[i]=e.params[1]);t.dataResult=f(f({},t.dataResult),{},{records:n});break;case 3:for(var o=t.dataResult.records||[],l=[],c=0;c<o.length;c++)o[c].id===e.params[1].id?t.dataResult.limit--:l.push(o[c]);if(t.dataResult=f(f({},t.dataResult),{},{records:l}),parseFloat(e.params[1].deal_stock)>0){var d=t.$parseMarket(e.params[1].market)||{};Notification.requestPermission((function(r){"granted"===r&&(new Notification("imCoin",{body:"".concat(e.params[1].market," ")+(2===e.params[1].side?t.$t("买入"):t.$t("卖出"))+parseFloat(e.params[1].deal_stock).toFixed(2)+(d.dest||"")+t.$t("，")+t.$t("价格")+e.params[1].price,icon:"/images/logo.png"}).onclick=function(){})}))}}}))},methods:{queryOrder:function(){var t=this;this.isLoading=!0,this.$socket.commit({method:"order.query",params:[this.marketStr,this.side,this.ofsset,this.limit]},(function(data){data.error||(t.dataResult=data.result||{}),t.isLoading=!1}))},cancel:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=(new Date).getTime(),o={access_id:e.account.access_id,id:t.id,market:e.marketStr,tonce:n},r.next=4,e.$axios.delete(e.$url("/v1/order/pending"),e.$signGet(o));case 4:case"end":return r.stop()}}),r)})))()},cancelAll:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(new Date).getTime(),n={account_id:0,access_id:t.account.access_id,market:t.marketStr,tonce:r},e.next=4,t.$axios.delete(t.$url("/v1/order/pending"),t.$signGet(n));case 4:case"end":return e.stop()}}),e)})))()}}};h.methods?Object.assign(h.methods,{$t:function(t){if(!this.$lang&&!d.zh_Hans_CN)return t;var e=d[this.$lang]||d.zh_Hans_CN||{};return void 0===e[t]?t:e[t]}}):h.methods={$t:function(t){if(!this.$lang&&!d.zh_Hans_CN)return t;var e=d[this.$lang]||d.zh_Hans_CN||{};return void 0===e[t]?t:e[t]}};var v=h,_=r(127),component=Object(_.a)(v,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"c-order bg-white"},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],staticStyle:{width:"100%"},attrs:{data:t.dataResult.records}},[r("el-table-column",{attrs:{prop:"ctime",label:t.$t("委托时间"),width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(e.row.ctime.toTime()))])]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"type",label:t.$t("类型"),width:"70",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.type?r("span",[t._v(t._s(t.$t("限价")))]):t._e(),t._v(" "),2===e.row.type?r("span",[t._v(t._s(t.$t("市价")))]):t._e()]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"side",label:t.$t("方向"),align:"center",width:"70"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.side?r("span",{staticClass:"text-red-500"},[t._v(t._s(t.$t("卖")))]):t._e(),t._v(" "),2===e.row.side?r("span",{staticClass:"text-green-500"},[t._v(t._s(t.$t("买")))]):t._e()]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"price",label:t.$t("委托价"),"min-width":"100",sortable:""}}),t._v(" "),r("el-table-column",{attrs:{prop:"amount",label:t.$t("委托数量"),"min-width":"120",sortable:""}}),t._v(" "),r("el-table-column",{attrs:{prop:"deal_stock",label:t.$t("已成交"),width:"100",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(t._f("$fixed")(e.row.deal_stock,10)))])]}}])}),t._v(" "),r("el-table-column",{attrs:{label:t.$t("成交均价"),align:"right","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[parseFloat(e.row.deal_stock)>0?r("span",[t._v("\n          "+t._s(parseFloat((e.row.deal_money/e.row.deal_stock).toFixed(8)))+"\n        ")]):r("span",[t._v("--")])]}}])}),t._v(" "),r("el-table-column",{attrs:{label:t.$t("操作"),align:"right",width:"60",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",{staticClass:"text-blue-500 cursor-pointer",on:{click:function(r){return t.cancel(e.row)}}},[t._v(t._s(t.$t("撤销")))])]}}])},[r("span",{attrs:{slot:"header"},slot:"header"},[r("i",{staticClass:"iconfont icon-shanchu- ml-5 text-red-500 cursor-pointer",on:{click:t.cancelAll}})])])],1)],1)}),[],!1,null,null,null);e.default=component.exports},775:function(t,e,r){"use strict";r.r(e);r(130);var n=r(38),o=r(63),l=r(154),c=r(721),d=r(762);function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h={mixins:[c.default],data:function(){return{isLoading:!1,page:1,limit:20,dataResult:{data:[],has_next:!1}}},computed:f(f({},Object(l.c)(["account"])),{},{total:function(){return this.page*this.limit+(this.dataResult.has_next?this.limit:0)}}),mounted:function(){},methods:{queryOrder:function(){var t=arguments,e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=t.length>0&&void 0!==t[0]?t[0]:1,e.account){r.next=3;break}return r.abrupt("return");case 3:return e.isLoading=!0,e.page=n,r.prev=5,r.next=8,e.$axios.get(e.$url("/v1/order/finished"),e.$signGet({access_id:e.account.access_id,market:e.marketStr,page:n,limit:e.limit,tonce:(new Date).getTime()}));case 8:0===(o=r.sent).data.code?e.dataResult=o.data.data:e.$message.error(o.data.message||o.data.msg),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(5),e.$message.error(r.t0.message);case 15:e.isLoading=!1;case 16:case"end":return r.stop()}}),r,null,[[5,12]])})))()}}};h.methods?Object.assign(h.methods,{$t:function(t){if(!this.$lang&&!d.zh_Hans_CN)return t;var e=d[this.$lang]||d.zh_Hans_CN||{};return void 0===e[t]?t:e[t]}}):h.methods={$t:function(t){if(!this.$lang&&!d.zh_Hans_CN)return t;var e=d[this.$lang]||d.zh_Hans_CN||{};return void 0===e[t]?t:e[t]}};var v=h,_=r(127),component=Object(_.a)(v,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"c-history bg-white"},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],staticStyle:{width:"100%"},attrs:{data:t.dataResult.data}},[r("el-table-column",{attrs:{prop:"ctime",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(e.row.create_time.toTime()))])]}}])},[r("span",{attrs:{slot:"header"},slot:"header"},[r("span",[t._v(t._s(t.$t("委托时间")))]),t._v(" "),r("i",{staticClass:"iconfont icon-shuaxin ml-5 text-blue-500 cursor-pointer text-12",on:{click:function(e){return t.queryOrder(1)}}})])]),t._v(" "),r("el-table-column",{attrs:{prop:"market",label:t.$t("市场"),"min-width":"100"}}),t._v(" "),r("el-table-column",{attrs:{prop:"order_type",label:t.$t("类型"),width:"70",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["limit"===e.row.order_type?r("span",[t._v(t._s(t.$t("限价")))]):t._e(),t._v(" "),"market"===e.row.order_type?r("span",[t._v(t._s(t.$t("市价")))]):t._e()]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"type",label:t.$t("方向"),align:"center",width:"70"},scopedSlots:t._u([{key:"default",fn:function(e){return["sell"===e.row.type?r("span",{staticClass:"text-red-500"},[t._v(t._s(t.$t("卖")))]):t._e(),t._v(" "),"buy"===e.row.type?r("span",{staticClass:"text-green-500"},[t._v(t._s(t.$t("买")))]):t._e()]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"avg_price",label:t.$t("委托价"),"min-width":"100"}}),t._v(" "),r("el-table-column",{attrs:{prop:"amount",label:t.$t("委托数量"),"min-width":"120"}}),t._v(" "),r("el-table-column",{attrs:{prop:"deal_amount",label:t.$t("成交数量"),"min-width":"110",align:"right"}}),t._v(" "),r("el-table-column",{attrs:{prop:"deal_money",label:t.$t("成交金额"),"min-width":"110",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(e.row.deal_money.toBFixed(8)))])]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"asset_fee",label:t.$t("手续费"),width:"140",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(e.row.asset_fee.toBFixed(8))+"\n          "+t._s(e.row.fee_asset))])]}}])})],1),t._v(" "),r("div",{staticClass:"text-right mt-20"},[t.total>t.limit?r("el-pagination",{attrs:{small:"",background:"",layout:"prev, pager, next","page-size":t.limit,"current-page":t.page,total:t.total},on:{"current-change":t.queryOrder}}):t._e()],1)],1)}),[],!1,null,null,null);e.default=component.exports},776:function(t,e,r){"use strict";r.r(e);r(130);var n=r(38),o=r(63),l=r(154),c=r(721),d=r(763);function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h={mixins:[c.default],data:function(){return{isLoading:!1,page:1,limit:20,dataResult:{data:[],has_next:!1}}},computed:f(f({},Object(l.c)(["account"])),{},{total:function(){return this.page*this.limit+(this.dataResult.has_next?this.limit:0)}}),mounted:function(){},methods:{queryOrder:function(){var t=arguments,e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=t.length>0&&void 0!==t[0]?t[0]:1,e.account){r.next=3;break}return r.abrupt("return");case 3:return e.isLoading=!0,e.page=n,r.prev=5,r.next=8,e.$axios.get(e.$url("/v1/order/user/deals"),e.$signGet({access_id:e.account.access_id,market:e.marketStr,page:n,limit:e.limit,tonce:(new Date).getTime()}));case 8:0===(o=r.sent).data.code?e.dataResult=o.data.data:e.$message.error(o.data.message||o.data.msg),r.next=16;break;case 12:r.prev=12,r.t0=r.catch(5),console.log(r.t0),e.$message.error(r.t0.message);case 16:e.isLoading=!1;case 17:case"end":return r.stop()}}),r,null,[[5,12]])})))()}}};h.methods?Object.assign(h.methods,{$t:function(t){if(!this.$lang&&!d.zh_Hans_CN)return t;var e=d[this.$lang]||d.zh_Hans_CN||{};return void 0===e[t]?t:e[t]}}):h.methods={$t:function(t){if(!this.$lang&&!d.zh_Hans_CN)return t;var e=d[this.$lang]||d.zh_Hans_CN||{};return void 0===e[t]?t:e[t]}};var v=h,_=r(127),component=Object(_.a)(v,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"c-deal bg-white"},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],staticStyle:{width:"100%"},attrs:{data:t.dataResult.data}},[r("el-table-column",{attrs:{prop:"ctime",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(e.row.create_time.toTime()))])]}}])},[r("span",{attrs:{slot:"header"},slot:"header"},[r("span",[t._v(t._s(t.$t("成交时间")))]),t._v(" "),r("i",{staticClass:"iconfont icon-shuaxin ml-5 text-blue-500 cursor-pointer text-12",on:{click:function(e){return t.queryOrder(1)}}})])]),t._v(" "),r("el-table-column",{attrs:{prop:"type",label:t.$t("方向"),align:"center","min-width":"70"},scopedSlots:t._u([{key:"default",fn:function(e){return["sell"===e.row.type?r("span",{staticClass:"text-red-500"},[t._v(t._s(t.$t("卖")))]):t._e(),t._v(" "),"buy"===e.row.type?r("span",{staticClass:"text-green-500"},[t._v(t._s(t.$t("买")))]):t._e()]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"price",label:t.$t("成交价"),"min-width":"100"}}),t._v(" "),r("el-table-column",{attrs:{prop:"amount",label:t.$t("成交数量"),"min-width":"110",align:"right"}}),t._v(" "),r("el-table-column",{attrs:{prop:"deal_money",label:t.$t("成交金额"),"min-width":"110",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(e.row.deal_money.toBFixed(8)))])]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"fee",label:t.$t("手续费"),width:"140",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(e.row.fee.toBFixed(8))+" "+t._s(e.row.fee_asset))])]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"role",label:t.$t("类型"),width:"70",align:"center"}})],1),t._v(" "),r("div",{staticClass:"text-right mt-20"},[t.total>t.limit?r("el-pagination",{attrs:{small:"",background:"",layout:"prev, pager, next","page-size":t.limit,"current-page":t.page,total:t.total},on:{"current-change":t.queryOrder}}):t._e()],1)],1)}),[],!1,null,null,null);e.default=component.exports},777:function(t,e,r){"use strict";r.r(e);r(110),r(325),r(50),r(131),r(109);var n=r(721),o=r(764),l={mixins:[n.default],data:function(){return{deals:[]}},watch:{marketStr:function(){this.deals=[]}},mounted:function(){var t=this;this.$socket.on("deals.update",(function(e){if(e.params&&e.params[1]&&e.params[0]===t.marketStr){var r=t.deals.concat();e.params[1].sort((function(a,b){return a.time-b.time})).forEach((function(e){(0===t.deals.length||e.time>t.deals[0].time)&&r.unshift(e)})),t.deals=r.slice(0,100)}}))},methods:{queryOrder:function(){},preNum:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,r=(t||"").toString(),n="",i=0;i<e&&r[i];i++)n+=r[i];return n.lastIndexOf(".")===n.length-1&&(n=n.substr(0,n.length-1)),n}}};l.methods?Object.assign(l.methods,{$t:function(t){if(!this.$lang&&!o.zh_Hans_CN)return t;var e=o[this.$lang]||o.zh_Hans_CN||{};return void 0===e[t]?t:e[t]}}):l.methods={$t:function(t){if(!this.$lang&&!o.zh_Hans_CN)return t;var e=o[this.$lang]||o.zh_Hans_CN||{};return void 0===e[t]?t:e[t]}};var c=l,d=(r(765),r(127)),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"c-marketdeal text-12 overflow-auto"},[r("el-table",{staticClass:"w-full h-full",attrs:{data:t.deals,height:"310"}},[r("el-table-column",{attrs:{label:t.$t("时间"),width:"65"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(e.row.time.toTime("HH:mm:ss")))])]}}])}),t._v(" "),r("el-table-column",{attrs:{label:t.$t("价格"),align:"center",width:"70"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",{class:"sell"===e.row.type?"text-red-500":"text-green-500"},[t._v(t._s(t.preNum(e.row.price,8)))])]}}])}),t._v(" "),r("el-table-column",{attrs:{label:t.$t("数量"),align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(t.preNum(e.row.amount)))])]}}])})],1)],1)}),[],!1,null,null,null);e.default=component.exports},778:function(t,e,r){"use strict";r.r(e);r(110),r(235),r(134),r(133),r(451),r(86),r(155),r(156),r(109);var n=r(63),o=r(154),l=r(42),c=r(767);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var f={data:function(){return{marketState:{},dialogVisible:!1,inputMarket:"",rangeStyle:"hor"}},computed:m(m(m({},Object(o.c)(["topMarkets","markets"])),Object(o.b)({stateMarkets:"stateMarkets",legalSymbol:"legalSymbol"})),{},{marketsList:function(){var t=this,e=[],r=l.d.map((function(t){return t+"USDT"})),n=[];return r.forEach((function(e){(t.markets||[]).includes(e)&&n.push(e)})),(this.markets||[]).forEach((function(t){r.includes(t)||n.push(t)})),n.forEach((function(t){for(var i=0;i<l.b.length;i++){var r=t.indexOf(l.b[i]);r>0&&e.push({currency:l.b[i],dest:t.substring(0,r),value:t,text:"".concat(t.substring(0,r),"/").concat(l.b[i])})}})),e}}),watch:{rangeStyle:function(t){localStorage.setItem("TOP_MARKETS_RANGE_STYLE",t)}},mounted:function(){var t=this;this.$socket.on("state.update",(function(e){e.params&&e.params[0]&&(t.marketState=m(m({},t.marketState),e.params[0]))})),this.rangeStyle="ver"===localStorage.getItem("TOP_MARKETS_RANGE_STYLE")?"ver":"hor"},methods:{handleSelect:function(t){var e=this.topMarkets&&this.topMarkets.length?this.topMarkets.concat():[];e.includes(t.value)||(e.push(t.value),this.saveMarkets(e)),this.inputMarket="",this.$message.success(this.$t("添加成功"))},addMarket:function(){var t=this.inputMarket.toUpperCase().replace("/","");this.markets&&this.markets.includes(t)?this.handleSelect({value:t}):this.$message.error(this.$t("市场不存在"))},saveMarkets:function(t){var e=t||[];this.$store.commit("SET_TOP_MAEKETS",e),localStorage.setItem("TOP_MARKETS",JSON.stringify(e))},moveItem:function(t,e){var r=this.topMarkets[t],n=this.topMarkets.concat();n[t]=this.topMarkets[t+e],n[t+e]=r,this.saveMarkets(n)},removeItem:function(t){var e=this.topMarkets.concat();e.splice(t,1),this.saveMarkets(e)},querySearch:function(t,e){e(t?this.marketsList.filter((function(e){return 0===e.value.indexOf(t.toUpperCase())})):this.marketsList)},changeColor:function(t){return t&&t.open?t.close.cmp(t.open)>0?"text-green-500":"text-red-500":""},priceChangePercent:function(t){return t&&t.open?t.close.minus(t.open).div(t.open).percent(!0):"--"},getVal:function(t,e){return t&&t[e]?t[e]:"--"},curMoney:function(t,e){return t&&t.last?this.$toLegal(t.last,this.$parseMarket(e).currency):"--"},getMarketStr:function(t){var e=this.$parseMarket(t);return"".concat(e.dest,"/").concat(e.currency)},goMarket:function(t){var e=this.$parseMarket(t);this.$store.commit("SET_CURRENT_MARKET","".concat(e.dest,"-").concat(e.currency)),this.$router.push("/?market=".concat(e.dest,"-").concat(e.currency))}}};f.methods?Object.assign(f.methods,{$t:function(t){if(!this.$lang&&!c.zh_Hans_CN)return t;var e=c[this.$lang]||c.zh_Hans_CN||{};return void 0===e[t]?t:e[t]}}):f.methods={$t:function(t){if(!this.$lang&&!c.zh_Hans_CN)return t;var e=c[this.$lang]||c.zh_Hans_CN||{};return void 0===e[t]?t:e[t]}};var h=f,v=(r(768),r(127)),component=Object(v.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"c-top-markets overflow-hidden w-full"},[r("el-dialog",{attrs:{title:t.$t("市场列表"),visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[r("el-autocomplete",{staticClass:"w-full",attrs:{"fetch-suggestions":t.querySearch,placeholder:t.$t("输入交易对"),"value-key":"text",value:"value",size:"small"},on:{select:t.handleSelect},model:{value:t.inputMarket,callback:function(e){t.inputMarket=e},expression:"inputMarket"}},[r("el-button",{attrs:{slot:"append",type:"primary",size:"small"},on:{click:t.addMarket},slot:"append"},[t._v(t._s(t.$t("添加")))])],1),t._v(" "),r("div",{staticClass:"market-list border border-gray-200 rounded-4 mt-20"},[t._l(t.topMarkets,(function(e,i){return[r("div",{key:i,staticClass:"py-5 mx-15 max-h-300 overflow-auto flex items-center text-14 market-item"},[r("i",{staticClass:"el-icon-error mr-10 text-red-500 cursor-pointer",on:{click:function(e){return t.removeItem(i)}}}),t._v(" "),r("span",{staticClass:"flex-1"},[t._v(t._s(t.getMarketStr(e)))]),t._v(" "),r("i",{staticClass:"el-icon-top cursor-pointer",on:{click:function(e){return t.moveItem(i,-1)}}}),t._v(" "),r("i",{staticClass:"el-icon-bottom ml-10 cursor-pointer",on:{click:function(e){return t.moveItem(i,1)}}})])]}))],2)],1),t._v(" "),r("div",{staticClass:"w-full overflow-auto py-5",class:t.rangeStyle},[r("div",{staticClass:"flex top-wrapper"},[t._l(t.topMarkets,(function(e,i){return r("div",{key:i,staticClass:"bg-white shadow p-10 top-item cursor-pointer whitespace-nowrap",on:{click:function(r){return t.goMarket(e)}}},[r("div",{staticClass:"text-12 top-title",class:{scal85:t.getMarketStr(e).length>8}},[r("span",[t._v(t._s(t.getMarketStr(e)))]),t._v(" "),r("span",{class:t.changeColor(t.marketState[e]),staticStyle:{"margin-left":"-3px"}},[t._v("\n            "+t._s(t.priceChangePercent(t.marketState[e]))+"\n          ")])]),t._v(" "),r("p",{class:t.changeColor(t.marketState[e])},[t._v("\n          "+t._s(t.getVal(t.marketState[e],"last"))+"\n        ")]),t._v(" "),r("p",{staticClass:"text-12 text-gray-700"},[r("span",[t._v(t._s(t.legalSymbol)+t._s(t.curMoney(t.marketState[e],e)))])])])})),t._v(" "),r("div",{staticClass:"bg-white shadow p-10 top-item cursor-pointer whitespace-nowrap btn-add",on:{click:function(e){t.dialogVisible=!0}}},[r("i",{staticClass:"el-icon-plus text-black"})])],2)]),t._v(" "),r("div",{staticClass:"flex items-center mt-5"},[r("span",{staticClass:"cursor-pointer text-blue-500 hover:text-blue-400 text-12",on:{click:function(e){t.dialogVisible=!0}}},[t._v(t._s(t.$t("编辑市场")))]),t._v(" "),r("div",{staticClass:"flex-1"}),t._v(" "),r("el-radio-group",{staticClass:"text-12",attrs:{size:"small"},model:{value:t.rangeStyle,callback:function(e){t.rangeStyle=e},expression:"rangeStyle"}},[r("el-radio",{staticClass:"mr-10",attrs:{label:"hor"}},[t._v(t._s(t.$t("横向")))]),t._v(" "),r("el-radio",{attrs:{label:"ver"}},[t._v(t._s(t.$t("纵向")))])],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports},779:function(t,e,r){"use strict";r.r(e);r(130);var n=r(38),o=r(770),l={data:function(){return{isGetting:!1,isSubmitting:!1,form:{accessKey:"",content:""}}},mounted:function(){localStorage.RUN_PARAMETERS&&(this.form.accessKey=localStorage.RUN_PARAMETERS,this.getParameters())},methods:{getParameters:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.form.accessKey){e.next=2;break}return e.abrupt("return");case 2:return t.isGetting=!0,e.prev=3,e.next=6,t.$axios.get(t.$url("/ex/config"),{headers:{authorization:t.form.accessKey}});case 6:(r=e.sent).data.success?(localStorage.RUN_PARAMETERS=t.form.accessKey,data=JSON.parse(r.data.result),t.form.content=JSON.stringify(data,null,2)):t.$message.error(r.data.msg),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),t.$message.error(e.t0&&e.t0.message);case 13:t.isGetting=!1;case 14:case"end":return e.stop()}}),e,null,[[3,10]])})))()},submitParam:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var data,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isSubmitting=!0,e.prev=1,data=JSON.parse(t.form.content),r=JSON.stringify(data),e.next=6,t.$axios.put(t.$url("/ex/config"),{content:r},{headers:{authorization:t.form.accessKey}});case 6:(n=e.sent).data.success?(t.$message.success(t.$t("修改成功")),t.getParameters()):t.$message.error(n.data.msg),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t.$message.error(e.t0&&e.t0.message);case 13:t.isSubmitting=!1;case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))()}}};l.methods?Object.assign(l.methods,{$t:function(t){if(!this.$lang&&!o.zh_Hans_CN)return t;var e=o[this.$lang]||o.zh_Hans_CN||{};return void 0===e[t]?t:e[t]}}):l.methods={$t:function(t){if(!this.$lang&&!o.zh_Hans_CN)return t;var e=o[this.$lang]||o.zh_Hans_CN||{};return void 0===e[t]?t:e[t]}};var c=l,d=r(127),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"c-parameters p-10"},[r("el-form",{ref:"form",attrs:{model:t.form,size:"mini"}},[r("el-form-item",{attrs:{prop:"accessKey"}},[r("div",{staticClass:"flex"},[r("el-input",{staticClass:"flex-1",attrs:{placeholder:"Access Key"},model:{value:t.form.accessKey,callback:function(e){t.$set(t.form,"accessKey",e)},expression:"form.accessKey"}}),t._v(" "),r("el-button",{staticClass:"ml-10",attrs:{loading:t.isGetting,type:"primary"},on:{click:t.getParameters}},[t._v(t._s(t.$t("获取")))])],1)]),t._v(" "),r("el-form-item",{attrs:{label:t.$t("参数内容")}},[r("el-input",{attrs:{type:"textarea",rows:15},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1),t._v(" "),r("div",{staticClass:"mt-20"},[r("el-button",{staticClass:"w-full",attrs:{loading:t.isSubmitting,type:"primary"},on:{click:t.submitParam}},[t._v(t._s(t.$t("提交")))])],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports},783:function(t,e,r){var content=r(800);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(129).default)("22c03477",content,!0,{sourceMap:!1})},798:function(t){t.exports=JSON.parse('{"en_US":{"历史委托":"Order History","参数":"参数","当前委托":"Current Orders","成交":"Executions","成交记录":"Order History","档位":"档位","统计":"Statistics"},"zh_Hans_CN":{"历史委托":"历史委托","参数":"参数","当前委托":"当前委托","成交":"成交","成交记录":"成交记录","档位":"档位","统计":"统计"},"zh_Hant_HK":{"历史委托":"歷史委托","参数":"參數","当前委托":"當前委托","成交":"成交","成交记录":"成交記錄","档位":"檔位","统计":"統計"}}')},799:function(t,e,r){"use strict";r(783)},800:function(t,e,r){var n=r(128)(!1);n.push([t.i,".p-index .main-wrapper{margin-left:auto;margin-right:auto;max-width:1000px}.p-index .main-wrapper .market-wrapper{height:410px}@media (max-width:767px){.p-index .main-wrapper .market-wrapper{height:auto}}.p-index .market-menu .el-radio-button__inner{font-weight:400;font-size:12px;line-height:14px;padding-top:1px;padding-bottom:1px;width:100%}",""]),t.exports=n},803:function(t,e,r){"use strict";r.r(e);r(50),r(86),r(131),r(234);var n=r(63),o=r(739),l=r.n(o),c=r(154),d=r(737),m=r(772),f=r(784),h=r(773),v=r(721),_=r(774),k=r(775),x=r(776),y=r(740),w=r(741),$=r(777),O=r(778),S=r(779),C=r(798);function j(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function H(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?j(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):j(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var P={components:{Account:d.default,Maket:m.default,MakeOrder:f.default,MarketHeader:h.default,Order:_.default,History:k.default,Deal:x.default,Statistics:y.default,Header:w.default,MarketDeal:$.default,TopMarkets:O.default,Parameters:S.default},mixins:[v.default],data:function(){return{marketInfo:{dest:"BTC",currency:"USDT"},loginVisible:!1,marketMenu:"position"}},computed:H(H({},Object(c.c)(["account","currentMarket","usdRate"])),Object(c.b)({stateMarkets:"stateMarkets"})),watch:{marketStr:function(){this.subscribe()},account:function(t){t&&this.init()},currentMarket:function(){this.setMarket(),this.init()},stateMarkets:function(){this.$socket.commit({method:"state.subscribe",params:this.stateMarkets})}},mounted:function(){var t=this;this.setMarket(),this.init(),this.$socket.onError=function(){t.init()};try{Notification.requestPermission()}catch(t){}this.updateRate=l()((function(e){t.$store.commit("SET_USDRATE",e)}),1e3),this.$socket.on("state.update",(function(e){if(t.usdRate&&t.usdRate.USDT&&e.params&&e.params[0]){var r=H({},t.usdRate);for(var n in e.params[0]){var o=t.$parseMarket(n);"USDT"===o.currency&&(r[o.dest]=r.USDT*e.params[0][n].last)}t.updateRate(r)}}))},methods:{setMarket:function(){var t=this.currentMarket.split("-");this.marketInfo={dest:t[0],currency:t[1]}},init:function(){var t=this;this.subscribe(),this.$refs.marketDealEle.queryOrder(),this.account&&this.$socket.sign(this.account).then((function(){t.$store.dispatch("asset/queryAsset"),t.subscribeAccount(),t.$refs.orderEle.queryOrder(),t.$refs.historyEle.queryOrder(),t.$refs.dealEle.queryOrder()})).catch((function(e){t.$message.error((e||"Error").toString())}))},setPrice:function(t){this.$refs.makeOrder.setPrice(t)},subscribe:function(){this.depth={},this.marketStr&&(this.$socket.commit({method:"depth.subscribe_full",params:[this.marketStr,10,"0"]}),this.$socket.commit({method:"state.subscribe",params:this.stateMarkets}),this.$socket.commit({method:"deals.subscribe",params:[this.marketStr]}))},subscribeAccount:function(){this.$socket.commit({method:"order.subscribe",params:[this.marketStr]}),this.$socket.commit({method:"asset.subscribe",params:[]})}}};P.methods?Object.assign(P.methods,{$t:function(t){if(!this.$lang&&!C.zh_Hans_CN)return t;var e=C[this.$lang]||C.zh_Hans_CN||{};return void 0===e[t]?t:e[t]}}):P.methods={$t:function(t){if(!this.$lang&&!C.zh_Hans_CN)return t;var e=C[this.$lang]||C.zh_Hans_CN||{};return void 0===e[t]?t:e[t]}};var M=P,N=(r(799),r(127)),component=Object(N.a)(M,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"p-index overflow-auto"},[r("Header",{ref:"header"}),t._v(" "),r("div",{staticClass:"p-20 main-wrapper xs:p-10"},[r("TopMarkets",{staticClass:"mb-10"}),t._v(" "),r("div",{staticClass:"flex market-wrapper"},[r("Account",{staticClass:"w-220 min-w-220 xs:hidden",attrs:{market:t.marketInfo}}),t._v(" "),r("div",{staticClass:"flex-1 ml-10 flex flex-col xs:ml-0 overflow-hidden"},[r("MarketHeader",{attrs:{market:t.marketInfo}}),t._v(" "),r("div",{staticClass:"flex mt-10 flex-1"},[r("MakeOrder",{ref:"makeOrder",staticClass:"flex-1 h-full",attrs:{market:t.marketInfo,"login-handler":function(){t.$refs.header.loginVisible=!0}}}),t._v(" "),r("div",{staticClass:"h-full w-220 ml-10 min-w-220 xs:min-w-auto xs:w-180 xs:ml-0 flex flex-col bg-white pt-10"},[r("el-radio-group",{staticClass:"flex mb-5 market-menu mx-10 h-15",attrs:{size:"mini"},model:{value:t.marketMenu,callback:function(e){t.marketMenu=e},expression:"marketMenu"}},[r("el-radio-button",{staticClass:"flex-1",attrs:{label:"position"}},[t._v(t._s(t.$t("档位")))]),t._v(" "),r("el-radio-button",{staticClass:"flex-1",attrs:{label:"deal"}},[t._v(t._s(t.$t("成交")))])],1),t._v(" "),r("div",{staticClass:"flex-1 relative"},[r("Maket",{staticClass:"absolute h-full w-full top-0 left-0 bg-white",class:{"z-1":"position"===t.marketMenu},attrs:{market:t.marketInfo},on:{setPrice:t.setPrice}}),t._v(" "),r("MarketDeal",{ref:"marketDealEle",staticClass:"absolute h-full w-full top-0 left-0 bg-white",class:{"z-1":"deal"===t.marketMenu},attrs:{market:t.marketInfo}})],1)],1)],1)],1)],1),t._v(" "),r("el-tabs",{staticClass:"coin-tabs mt-10"},[r("el-tab-pane",{attrs:{label:t.$t("当前委托")}},[r("Order",{ref:"orderEle",attrs:{market:t.marketInfo}})],1),t._v(" "),r("el-tab-pane",{attrs:{label:t.$t("历史委托")}},[r("History",{ref:"historyEle",staticClass:"mt-10",attrs:{market:t.marketInfo}})],1),t._v(" "),r("el-tab-pane",{attrs:{label:t.$t("成交记录")}},[r("Deal",{ref:"dealEle",staticClass:"mt-10",attrs:{market:t.marketInfo}})],1),t._v(" "),r("el-tab-pane",{attrs:{label:t.$t("统计")}},[r("Statistics",{attrs:{market:t.marketInfo,"can-switch-market":!1}})],1),t._v(" "),r("el-tab-pane",{attrs:{label:t.$t("参数")}},[r("Parameters",{attrs:{market:t.marketInfo}})],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Header:r(741).default,TopMarkets:r(778).default,Account:r(737).default,MarketHeader:r(773).default,MakeOrder:r(784).default,Maket:r(772).default,MarketDeal:r(777).default,Order:r(774).default,History:r(775).default,Deal:r(776).default,Statistics:r(740).default,Parameters:r(779).default})}}]);