(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{739:function(t,e,r){var content=r(763);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(125).default)("7941f97d",content,!0,{sourceMap:!1})},761:function(t){t.exports=JSON.parse('{"en_US":{"市场不存在":"市场不存在","市场列表":"市场列表","横向":"横向","添加":"添加","添加成功":"添加成功","纵向":"纵向","编辑市场":"编辑市场","输入交易对":"输入交易对"},"zh_Hans_CN":{"市场不存在":"市场不存在","市场列表":"市场列表","横向":"横向","添加":"添加","添加成功":"添加成功","纵向":"纵向","编辑市场":"编辑市场","输入交易对":"输入交易对"},"zh_Hant_HK":{"市场不存在":"市場不存在","市场列表":"市場列表","横向":"橫向","添加":"添加","添加成功":"添加成功","纵向":"縱向","编辑市场":"編輯市場","输入交易对":"輸入交易對"}}')},762:function(t,e,r){"use strict";r(739)},763:function(t,e,r){var o=r(124)(!1);o.push([t.i,".c-top-markets .top-wrapper .top-item{border-radius:10px;min-width:120px;margin-left:10px}.c-top-markets .top-wrapper .top-item:first-child{margin-left:0}.c-top-markets .top-wrapper .top-item.btn-add{line-height:52px!important;font-size:20px;line-height:26px;text-align:center}.c-top-markets .ver{overflow:hidden!important}.c-top-markets .ver .top-wrapper{flex-wrap:wrap!important;justify-content:space-between!important;margin-left:-5px!important;margin-right:-5px!important;overflow:hidden!important}.c-top-markets .ver .top-wrapper .top-item{width:120px;margin:5px}.c-top-markets .el-input-group__append{background-color:var(--color-blue-500);border-color:var(--color-blue-500);color:#fff}.c-top-markets .market-list .market-item{border-bottom:1px solid var(--color-blue-50)}.c-top-markets .market-list .market-item:last-child{border-bottom:0}.c-top-markets .market-list .market-item:first-child .el-icon-top,.c-top-markets .market-list .market-item:last-child .el-icon-bottom{display:none}.c-top-markets .el-radio__label{font-size:12px;line-height:14px}.c-top-markets .el-radio__inner{width:12px;height:12px}",""]),t.exports=o},771:function(t,e,r){"use strict";r.r(e);r(106),r(228),r(129),r(128),r(446),r(86),r(152),r(153),r(107);var o=r(61),n=r(151),c=r(42),l=r(761);function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function h(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var d={data:function(){return{marketState:{},dialogVisible:!1,inputMarket:"",rangeStyle:"hor"}},computed:h(h(h({},Object(n.c)(["topMarkets","markets"])),Object(n.b)({stateMarkets:"stateMarkets",legalSymbol:"legalSymbol"})),{},{marketsList:function(){var t=this,e=[],r=c.d.map((function(t){return t+"USDT"})),o=[];return r.forEach((function(e){(t.markets||[]).includes(e)&&o.push(e)})),(this.markets||[]).forEach((function(t){r.includes(t)||o.push(t)})),o.forEach((function(t){for(var i=0;i<c.b.length;i++){var r=t.indexOf(c.b[i]);r>0&&e.push({currency:c.b[i],dest:t.substring(0,r),value:t,text:"".concat(t.substring(0,r),"/").concat(c.b[i])})}})),e}}),watch:{rangeStyle:function(t){localStorage.setItem("TOP_MARKETS_RANGE_STYLE",t)}},mounted:function(){var t=this;this.$socket.on("state.update",(function(e){e.params&&e.params[0]&&(t.marketState=h(h({},t.marketState),e.params[0]))})),this.rangeStyle="ver"===localStorage.getItem("TOP_MARKETS_RANGE_STYLE")?"ver":"hor"},methods:{handleSelect:function(t){var e=this.topMarkets&&this.topMarkets.length?this.topMarkets.concat():[];e.includes(t.value)||(e.push(t.value),this.saveMarkets(e)),this.inputMarket="",this.$message.success(this.$t("添加成功"))},addMarket:function(){var t=this.inputMarket.toUpperCase().replace("/","");this.markets&&this.markets.includes(t)?this.handleSelect({value:t}):this.$message.error(this.$t("市场不存在"))},saveMarkets:function(t){var e=t||[];this.$store.commit("SET_TOP_MAEKETS",e),localStorage.setItem("TOP_MARKETS",JSON.stringify(e))},moveItem:function(t,e){var r=this.topMarkets[t],o=this.topMarkets.concat();o[t]=this.topMarkets[t+e],o[t+e]=r,this.saveMarkets(o)},removeItem:function(t){var e=this.topMarkets.concat();e.splice(t,1),this.saveMarkets(e)},querySearch:function(t,e){e(t?this.marketsList.filter((function(e){return 0===e.value.indexOf(t.toUpperCase())})):this.marketsList)},changeColor:function(t){return t&&t.open?t.close.cmp(t.open)>0?"text-green-500":"text-red-500":""},priceChangePercent:function(t){return t&&t.open?t.close.minus(t.open).div(t.open).percent(!0):"--"},getVal:function(t,e){return t&&t[e]?t[e]:"--"},curMoney:function(t,e){return t&&t.last?this.$toLegal(t.last,this.$parseMarket(e).currency):"--"},getMarketStr:function(t){var e=this.$parseMarket(t);return"".concat(e.dest,"/").concat(e.currency)},goMarket:function(t){var e=this.$parseMarket(t);this.$store.commit("SET_CURRENT_MARKET","".concat(e.dest,"-").concat(e.currency)),this.$router.push("/?market=".concat(e.dest,"-").concat(e.currency))}}};d.methods?Object.assign(d.methods,{$t:function(t){if(!this.$lang&&!l.zh_Hans_CN)return t;var e=l[this.$lang]||l.zh_Hans_CN||{};return void 0===e[t]?t:e[t]}}):d.methods={$t:function(t){if(!this.$lang&&!l.zh_Hans_CN)return t;var e=l[this.$lang]||l.zh_Hans_CN||{};return void 0===e[t]?t:e[t]}};var f=d,v=(r(762),r(123)),component=Object(v.a)(f,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"c-top-markets overflow-hidden w-full"},[r("el-dialog",{attrs:{title:t.$t("市场列表"),visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[r("el-autocomplete",{staticClass:"w-full",attrs:{"fetch-suggestions":t.querySearch,placeholder:t.$t("输入交易对"),"value-key":"text",value:"value",size:"small"},on:{select:t.handleSelect},model:{value:t.inputMarket,callback:function(e){t.inputMarket=e},expression:"inputMarket"}},[r("el-button",{attrs:{slot:"append",type:"primary",size:"small"},on:{click:t.addMarket},slot:"append"},[t._v(t._s(t.$t("添加")))])],1),t._v(" "),r("div",{staticClass:"market-list border border-gray-200 rounded-4 mt-20"},[t._l(t.topMarkets,(function(e,i){return[r("div",{key:i,staticClass:"py-5 mx-15 max-h-300 overflow-auto flex items-center text-14 market-item"},[r("i",{staticClass:"el-icon-error mr-10 text-red-500 cursor-pointer",on:{click:function(e){return t.removeItem(i)}}}),t._v(" "),r("span",{staticClass:"flex-1"},[t._v(t._s(t.getMarketStr(e)))]),t._v(" "),r("i",{staticClass:"el-icon-top cursor-pointer",on:{click:function(e){return t.moveItem(i,-1)}}}),t._v(" "),r("i",{staticClass:"el-icon-bottom ml-10 cursor-pointer",on:{click:function(e){return t.moveItem(i,1)}}})])]}))],2)],1),t._v(" "),r("div",{staticClass:"w-full overflow-auto py-5",class:t.rangeStyle},[r("div",{staticClass:"flex top-wrapper"},[t._l(t.topMarkets,(function(e,i){return r("div",{key:i,staticClass:"bg-white shadow p-10 top-item cursor-pointer whitespace-nowrap",on:{click:function(r){return t.goMarket(e)}}},[r("div",{staticClass:"text-12"},[r("span",[t._v(t._s(t.getMarketStr(e)))]),t._v(" "),r("span",{class:t.changeColor(t.marketState[e]),staticStyle:{"margin-left":"-3px"}},[t._v("\n            "+t._s(t.priceChangePercent(t.marketState[e]))+"\n          ")])]),t._v(" "),r("p",{class:t.changeColor(t.marketState[e])},[t._v("\n          "+t._s(t.getVal(t.marketState[e],"last"))+"\n        ")]),t._v(" "),r("p",{staticClass:"text-12 text-gray-700"},[r("span",[t._v(t._s(t.legalSymbol)+t._s(t.curMoney(t.marketState[e],e)))])])])})),t._v(" "),r("div",{staticClass:"bg-white shadow p-10 top-item cursor-pointer whitespace-nowrap btn-add",on:{click:function(e){t.dialogVisible=!0}}},[r("i",{staticClass:"el-icon-plus text-black"})])],2)]),t._v(" "),r("div",{staticClass:"flex items-center mt-5"},[r("span",{staticClass:"cursor-pointer text-blue-500 hover:text-blue-400 text-12",on:{click:function(e){t.dialogVisible=!0}}},[t._v(t._s(t.$t("编辑市场")))]),t._v(" "),r("div",{staticClass:"flex-1"}),t._v(" "),r("el-radio-group",{staticClass:"text-12",attrs:{size:"small"},model:{value:t.rangeStyle,callback:function(e){t.rangeStyle=e},expression:"rangeStyle"}},[r("el-radio",{staticClass:"mr-10",attrs:{label:"hor"}},[t._v(t._s(t.$t("横向")))]),t._v(" "),r("el-radio",{attrs:{label:"ver"}},[t._v(t._s(t.$t("纵向")))])],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);