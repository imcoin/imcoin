(window.webpackJsonp=window.webpackJsonp||[]).push([[15,22],{721:function(t,e,r){"use strict";r.r(e);var n=r(63),o=r(154);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function c(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.default={props:{market:{type:Object,default:function(){}}},data:function(){return{marketInfo:this.market}},computed:c(c({},Object(o.c)(["marketConfig"])),{},{marketStr:function(){return this.marketInfo&&this.marketInfo.dest&&this.marketInfo.currency?(this.marketInfo.dest+this.marketInfo.currency).toUpperCase():""},curMarketConfig:function(){return this.marketConfig&&this.marketConfig[this.marketStr]}}),watch:{market:function(t){this.marketInfo=t}}}},724:function(t,e,r){var content=r(739);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(129).default)("99b4e0ae",content,!0,{sourceMap:!1})},737:function(t){t.exports=JSON.parse('{"en_US":{"下单成功":"下单成功","买入":"买入","以当前买盘挂单价_11b7":"以当前买盘挂单价格依次卖出","以当前卖盘挂单价_15db":"以当前卖盘挂单价格依次买入","卖出":"卖出","可用":"可用","数量":"数量"},"zh_Hans_CN":{"下单成功":"下单成功","买入":"买入","以当前买盘挂单价_11b7":"以当前买盘挂单价格依次卖出","以当前卖盘挂单价_15db":"以当前卖盘挂单价格依次买入","卖出":"卖出","可用":"可用","数量":"数量"},"zh_Hant_HK":{"下单成功":"下單成功","买入":"買入","买入价@DEPRECATED@":"買入價","买出@DEPRECATED@":"買出","以当前买盘挂单价_11b7":"以當前買盤掛單價格依次賣出","以当前卖盘挂单价_15db":"以當前賣盤掛單價格依次買入","卖出":"賣出","卖出价@DEPRECATED@":"賣出價","可用":"可用","数量":"數量","预计交易额@DEPRECATED@":"預計交易額"}}')},738:function(t,e,r){"use strict";r(724)},739:function(t,e,r){var n=r(128)(!1);n.push([t.i,".c-makeorder-market .lh-40{line-height:40px!important}.c-makeorder-market .el-radio-button__inner{width:100%}.c-makeorder-market .el-slider__button{width:12px;height:12px}",""]),t.exports=n},760:function(t,e,r){"use strict";r.r(e);r(50),r(131),r(130);var n=r(35),o=r(63),l=r(154),c=r(721),m=r(737);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h={mixins:[c.default],props:{loginHandler:{type:Function,default:function(){}}},data:function(){return{mode:"buy",buyForm:{amount:"",rate:0},sellForm:{amount:"",rate:0},buyAmountChangeRate:!1,isBuying:!1,isSelling:!1}},computed:f(f({},Object(l.c)(["asset","account"])),{},{currency:function(){return((this.asset.asset||{})[this.marketInfo.currency]||{}).available},dest:function(){return((this.asset.asset||{})[this.marketInfo.dest]||{}).available},buyPre:function(){var t=this.buyForm.price.mul(this.buyForm.amount).toBFixed(8).trimZero();return isNaN(parseFloat(t))?"0":t},sellPre:function(){var t=this.sellForm.price.mul(this.sellForm.amount).toBFixed(8).trimZero();return isNaN(parseFloat(t))?"0":t}}),watch:{},methods:{setPrice:function(t){this.buyForm.price=t,this.sellForm.price=t},buyAmountChange:function(){var t=parseFloat(this.buyForm.amount.mul(this.buyForm.price).div(this.currency).mul(100));this.buyForm.rate=isNaN(t)?0:t},buyRateChange:function(t){var e=t.toString().div(100).mul(this.currency);this.buyForm.amount=isNaN(parseFloat(e))?0:e.toBFixed(8).trimZero()},sellAmountChange:function(){var t=parseFloat(this.sellForm.amount.div(this.dest).mul(100));this.sellForm.rate=isNaN(t)?0:t},sellRateChange:function(t){var e=t.toString().div(100).mul(this.dest);this.sellForm.amount=isNaN(parseFloat(e))?0:e.toBFixed(8).trimZero()},buy:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.account){e.next=3;break}return t.loginHandler&&t.loginHandler(),e.abrupt("return");case 3:if(t.buyForm.amount){e.next=5;break}return e.abrupt("return");case 5:return t.isBuying=!0,e.prev=6,e.next=9,t.makeMarketOrder({type:"buy",amount:t.buyForm.amount});case 9:0===(r=e.sent).data.code?(t.$message({showClose:!0,message:t.$t("下单成功"),type:"success"}),t.buyForm={amount:""}):t.$message.error(r.data.message),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),t.$message.error(e.t0.message);case 16:t.isBuying=!1;case 17:case"end":return e.stop()}}),e,null,[[6,13]])})))()},sell:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.account){e.next=3;break}return t.loginHandler&&t.loginHandler(),e.abrupt("return");case 3:if(t.sellForm.amount){e.next=5;break}return e.abrupt("return");case 5:return t.isSelling=!0,e.prev=6,e.next=9,t.makeMarketOrder({type:"sell",amount:t.sellForm.amount});case 9:0===(r=e.sent).data.code?(t.$message({showClose:!0,message:t.$t("下单成功"),type:"success"}),t.sellForm={amount:""}):t.$message.error(r.data.message),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),t.$message.error(e.t0.message);case 16:t.isSelling=!1;case 17:case"end":return e.stop()}}),e,null,[[6,13]])})))()},makeMarketOrder:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,o,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=(new Date).getTime(),o={access_id:e.account.access_id,amount:t.amount,market:e.marketStr,tonce:n,type:t.type},r.next=4,e.$axios.post(e.$url("/v1/order/market"),o,{headers:{authorization:e.$sign(o)}});case 4:return l=r.sent,r.abrupt("return",l);case 6:case"end":return r.stop()}}),r)})))()}}};h.methods?Object.assign(h.methods,{$t:function(t){if(!this.$lang&&!m.zh_Hans_CN)return t;var e=m[this.$lang]||m.zh_Hans_CN||{};return void 0===e[t]?t:e[t]}}):h.methods={$t:function(t){if(!this.$lang&&!m.zh_Hans_CN)return t;var e=m[this.$lang]||m.zh_Hans_CN||{};return void 0===e[t]?t:e[t]}};var y=h,v=(r(738),r(127)),component=Object(v.a)(y,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"c-makeorder-market"},[r("el-radio-group",{staticClass:"hidden xs:flex mb-20",attrs:{size:"mini"},model:{value:t.mode,callback:function(e){t.mode=e},expression:"mode"}},[r("el-radio-button",{staticClass:"flex-1",attrs:{label:"buy"}},[t._v(t._s(t.$t("买入")))]),t._v(" "),r("el-radio-button",{staticClass:"flex-1",attrs:{label:"sell"}},[t._v(t._s(t.$t("卖出")))])],1),t._v(" "),r("div",{staticClass:"flex xs:block"},[r("div",{staticClass:"buy flex-1",class:"buy"===t.mode?"xs:block":"xs:hidden"},[r("p",{staticClass:"bg-gray-200 text-12 py-10 text-black leading-20 rounded-4 px-15"},[t._v(t._s(t.$t("以当前卖盘挂单价_15db")))]),t._v(" "),r("div",{staticClass:"relative mt-10"},[r("el-input",{attrs:{type:"number",placeholder:t.$t("数量")},on:{input:t.buyAmountChange},model:{value:t.buyForm.amount,callback:function(e){t.$set(t.buyForm,"amount",e)},expression:"buyForm.amount"}}),t._v(" "),r("p",{staticClass:"right-10 absolute top-0 xs:text-14 lh-40"},[t._v("\n          "+t._s(t.marketInfo.currency)+"\n        ")])],1),t._v(" "),r("p",{staticClass:"text-12 text-gray-500 mt-5"},[r("span",{staticClass:"mr-5"},[t._v(t._s(t.$t("可用")))]),t._v(t._s(t.currency||"0")+"\n        "+t._s(t.marketInfo.currency)+"\n      ")]),t._v(" "),r("el-slider",{staticClass:"px-5",attrs:{"show-tooltip":!1},on:{change:t.buyRateChange},model:{value:t.buyForm.rate,callback:function(e){t.$set(t.buyForm,"rate",e)},expression:"buyForm.rate"}}),t._v(" "),r("el-button",{staticClass:"w-full mt-20 outline-none",attrs:{loading:t.isBuying,type:"success"},on:{click:t.buy}},[t._v(t._s(t.$t("买入")))])],1),t._v(" "),r("div",{staticClass:"sell ml-20 flex-1",class:"sell"===t.mode?"xs:block xs:ml-0":"xs:hidden"},[r("p",{staticClass:"bg-gray-200 text-12 py-10 text-black leading-20 rounded-4 px-15"},[t._v(t._s(t.$t("以当前买盘挂单价_11b7")))]),t._v(" "),r("div",{staticClass:"relative mt-10"},[r("el-input",{attrs:{type:"number",placeholder:t.$t("数量")},on:{input:t.sellAmountChange},model:{value:t.sellForm.amount,callback:function(e){t.$set(t.sellForm,"amount",e)},expression:"sellForm.amount"}}),t._v(" "),r("p",{staticClass:"right-10 absolute top-0 xs:text-14 lh-40"},[t._v("\n          "+t._s(t.marketInfo.dest)+"\n        ")])],1),t._v(" "),r("p",{staticClass:"text-12 text-gray-500 mt-5"},[r("span",{staticClass:"mr-5"},[t._v(t._s(t.$t("可用")))]),t._v(t._s(t.dest||"0")+" "+t._s(t.marketInfo.dest)+"\n      ")]),t._v(" "),r("el-slider",{staticClass:"px-5",attrs:{"show-tooltip":!1},on:{change:t.sellRateChange},model:{value:t.sellForm.rate,callback:function(e){t.$set(t.sellForm,"rate",e)},expression:"sellForm.rate"}}),t._v(" "),r("el-button",{staticClass:"w-full mt-20 outline-none",attrs:{loading:t.isSelling,type:"danger"},on:{click:t.sell}},[t._v(t._s(t.$t("卖出")))])],1)])],1)}),[],!1,null,null,null);e.default=component.exports}}]);